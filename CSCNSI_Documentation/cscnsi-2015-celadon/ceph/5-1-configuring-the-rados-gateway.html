<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">

<!-- Mirrored from sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/ceph/5-1-configuring-the-rados-gateway by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 03 Aug 2015 21:58:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",g="tick",h="wtsrt_",l="tbsd_",m="tbnd_",n="start",p="_wtsrt",q="_tbnd",r="CSI/index.html";(function(){function k(a){this.t={};this.tick=function(a,d,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),d];if(void 0==c)try{b.console.timeStamp(r+a)}catch(f){}};this[g](n,null,a)}var a;b.performance&&(a=b.performance.timing);var t=a?new k(a.responseStart):new k;b.jstiming={Timer:k,load:t};if(a){var d=a.navigationStart,f=a.responseStart;0<d&&f>=d&&(b.jstiming.srt=f-d)}if(a){var c=b.jstiming.load;0<d&&f>=d&&(c[g](p,void 0,d),c[g](h,p,f),c[g](l,h))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),
c&&0<d&&(c[g](q,void 0,b[e].csi().startE),c[g](m,q,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[g](q,void 0,b.external.startE),c[g](m,q,d))),a&&(b.jstiming.pt=a)}catch(u){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="http://www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/7dadac/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/ceph","deleted":false,"title":"Ceph (Version: Giant)","dir":"ltr"},{"path":"/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/ceph/5-1-configuring-the-rados-gateway","deleted":false,"title":"6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/7dadac/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":false,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"CSCNSI 2015: Team Celadon","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"moreMobileStyleImprovements":true,"accessibleSortingButtons":false,"driveImageLinkFromOnepick":true,"analyticsFullSamplingRate":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/ceph/5-1-configuring-the-rados-gateway\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/7dadac/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/7dadac/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/7dadac/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/7dadac/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/7dadac/system/app/css/trogedit.css","../_/rsrc/1438071434000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/7dadac/system/app/css/codeeditor.css","/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/_/rsrc/1438071434000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"probe.newmexicoconsortium.org","baseUri":"/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon","name":"cscnsi-2015-celadon","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/ceph","parentWuid":"wuid:gx:371d7c2715521c48","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6","locale":"en","wuid":"wuid:gx:518127316cb05ea3","revision":19,"path":"/ceph/5-1-configuring-the-rados-gateway","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"5-1-configuring-the-rados-gateway","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6 - CSCNSI 2015: Team Celadon" />
<meta itemprop="name" content="6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6 - CSCNSI 2015: Team Celadon" />
<meta property="og:title" content="6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6 - CSCNSI 2015: Team Celadon" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/7dadac/system/app/themes/default/standard-css-default-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1438071434000/system/app/css/overlayf14d.css?cb=default150goog-ws-leftnone30themedefaultstandard" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1438071434000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/probe.newmexicoconsortium.org/cscnsi%2d2015%2dceladon/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6 - CSCNSI 2015: Team Celadon</title>
<meta itemprop="image" content="https://www.google.com/a/cpanel/probe.newmexicoconsortium.org/images/logo.gif?service=google_default" />
<meta property="og:image" content="https://www.google.com/a/cpanel/probe.newmexicoconsortium.org/images/logo.gif?service=google_default" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="https://www.google.com/a/cpanel/probe.newmexicoconsortium.org/images/logo.gif?service=google_default" alt="CSCNSI 2015: Team Celadon" class="sites-logo  sites-domain-logo" /></a><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">CSCNSI 2015: Team Celadon</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first "><div dir="ltr" style="padding-left: 19px;"><a href="../home.html" jotId="wuid:gx:1590c6ac6045a0b0" class="sites-navigation-link topLevel">Home</a></div></li><li class="topLevel parent " wuid="gx:371d7c2715521c48"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../ceph.html" jotId="wuid:gx:371d7c2715521c48" class="sites-navigation-link topLevel">Ceph (Version: Giant)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="hardware-installation.html" jotId="wuid:gx:326e5d7390fa47fb" class="sites-navigation-link">1. Hardware Installation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="sas-card-configuration.html" jotId="wuid:gx:6d03f1cf0b10bba9" class="sites-navigation-link">1.1 SAS Card Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="initial-head-node-configuration.html" jotId="wuid:gx:7bbee1415bee4fbb" class="sites-navigation-link">2. Initial Head Node Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="initial-ceph-node-configuration-for-all-ceph-cluster-nodes.html" jotId="wuid:gx:38b5475edbbeea62" class="sites-navigation-link">3. Initial Ceph Node Configuration for All Ceph Cluster Nodes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="monitor-node-configuration.html" jotId="wuid:gx:2a465d2171da5aad" class="sites-navigation-link">4. Monitor Node Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="object-storage-node-configuration.html" jotId="wuid:gx:65ab326afe1d41c7" class="sites-navigation-link">5. Object Storage Node (OSD) Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="5-1-osd-removal.html" jotId="wuid:gx:1474b0afffe38d97" class="sites-navigation-link">5.1 OSD Removal</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="5-installing-the-rados-gateway.html" jotId="wuid:gx:57e379a9fc9ddc3d" class="sites-navigation-link">6. Installing the RADOS Gateway On CentOS 6.6/Rhel 6</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:518127316cb05ea3" dir="ltr" style="padding-left: 38px;">6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6</div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ceph-benchmarking.html" jotId="wuid:gx:5c65f53e3aebe1fd" class="sites-navigation-link">7. Ceph Benchmarking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="8-using-ceph.html" jotId="wuid:gx:3de85054be4e0c41" class="sites-navigation-link">8. Using Ceph</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="9-troubleshooting-ceph.html" jotId="wuid:gx:313f9662ef83c9e0" class="sites-navigation-link">9. Troubleshooting Ceph</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../fail2ban.html" jotId="wuid:gx:203ee59e4c9db6b8" class="sites-navigation-link topLevel">fail2ban</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../lab-1---head-node-installation.html" jotId="wuid:gx:4e5af6535c8bbe65" class="sites-navigation-link topLevel">Lab 1 - Head Node Installation</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../lab-10---backup.html" jotId="wuid:gx:694e3f6d78f7aa4c" class="sites-navigation-link topLevel">Lab 10 - Documentation and Backup</a></div></li><li class="topLevel parent " wuid="gx:593a73a3009ab83a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lab-2---networking.html" jotId="wuid:gx:593a73a3009ab83a" class="sites-navigation-link topLevel">Lab 2 - Networking</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-2---networking/install-centos-on-client-node.html" jotId="wuid:gx:3d883ed594753ebc" class="sites-navigation-link">1. Install CentOS on Client Node</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-2---networking/ip-tables-configuration.html" jotId="wuid:gx:1963c5a322f53970" class="sites-navigation-link">2. IP Tables Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-2---networking/enable-net-forwarding-on-head-node.html" jotId="wuid:gx:71cf33af9d952777" class="sites-navigation-link">3. Enable Net Forwarding on Head Node</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-2---networking/secure-shell-ssh.html" jotId="wuid:gx:2daed54610f46864" class="sites-navigation-link">4. Secure Shell (SSH)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:52c5f91cd6685fcc"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lab-3---linux-system-services.html" jotId="wuid:gx:52c5f91cd6685fcc" class="sites-navigation-link topLevel">Lab 3 - Linux System Services</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-3---linux-system-services/child-node-configuration.html" jotId="wuid:gx:19b34dc584eb1c45" class="sites-navigation-link">Child node configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-3---linux-system-services/head-node-configuration.html" jotId="wuid:gx:35d2c8d07e43cd30" class="sites-navigation-link">Head node configuration</a></div></li></ul></li><li class="topLevel parent " wuid="gx:78626ce4f570f1c1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lab4---network-booting.html" jotId="wuid:gx:78626ce4f570f1c1" class="sites-navigation-link topLevel">Lab 4 - Network Booting</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab4---network-booting/trivial-file-transfer-protocol-tftp.html" jotId="wuid:gx:5a6b22b45cc155f0" class="sites-navigation-link">1. Trivial File Transfer Protocol (TFTP)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab4---network-booting/anaconda-kickstart-script-configuration.html" jotId="wuid:gx:5116cd145728289e" class="sites-navigation-link">2. Anaconda Kickstart Script Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab4---network-booting/client-centos-install.html" jotId="wuid:gx:2b1cc44ae3f02021" class="sites-navigation-link">3. Client CentOS Install</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../lab-5---lights-out-management.html" jotId="wuid:gx:5e6abb09a9f225f" class="sites-navigation-link topLevel">Lab 5 - Lights Out Management</a></div></li><li class="topLevel parent " wuid="gx:5227ef9981d74f69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lab5---cluster-monitoring.html" jotId="wuid:gx:5227ef9981d74f69" class="sites-navigation-link topLevel">Lab 6 - Cluster Monitoring</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab5---cluster-monitoring/head-node-configuratiion.html" jotId="wuid:gx:4dbad566977b9c3c" class="sites-navigation-link">1. Head Node Configuratiion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab5---cluster-monitoring/client-node-configuration.html" jotId="wuid:gx:6fbfc429e0ae1ec1" class="sites-navigation-link">2. Client Node Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab5---cluster-monitoring/web-interface-configuration.html" jotId="wuid:gx:11b20ebd51b38092" class="sites-navigation-link">3. Web Interface Configuration</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../lab-7---warewulf.html" jotId="wuid:gx:1e0906ab37a8a4e9" class="sites-navigation-link topLevel">Lab 7 - Warewulf</a></div></li><li class="topLevel parent " wuid="gx:54ed736817dba7e9"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lab-8---lightweight-directory-access-protocol.html" jotId="wuid:gx:54ed736817dba7e9" class="sites-navigation-link topLevel">Lab 8 - Lightweight Directory Access Protocol</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-8---lightweight-directory-access-protocol/client-node-configuration.html" jotId="wuid:gx:323d319703a5953b" class="sites-navigation-link">Client Node Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-8---lightweight-directory-access-protocol/head-node-configuration.html" jotId="wuid:gx:74ebcc723daacc02" class="sites-navigation-link">Head Node Configuration</a></div></li></ul></li><li class="topLevel parent " wuid="gx:34565d41611874e5"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lab-9---parallel-programming-using-infiniband.html" jotId="wuid:gx:34565d41611874e5" class="sites-navigation-link topLevel">Lab 9 - Parallel Programming using Infiniband</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-9---parallel-programming-using-infiniband/child-node-configuration.html" jotId="wuid:gx:470a81302348ade" class="sites-navigation-link">Child Node Configuration</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lab-9---parallel-programming-using-infiniband/head-node-configuration.html" jotId="wuid:gx:637eae83de89bcef" class="sites-navigation-link">Head Node Configuration</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:729713e8bbf69a36" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../ceph.html" dir="ltr">Ceph (Version: Giant)</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">6.1 Configuring the RADOS Gateway CentOS 6.6/Rhel 6</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><b>Description: </b><div><span style="background-color:transparent">Configuring a Ceph Object Gateway requires a running Ceph Storage Cluster, and an Apache web server with the FastCGI module.</span><div><br /></div><div>The Ceph Object Gateway is a client of the Ceph Storage Cluster. As a Ceph Storage Cluster client, it requires:</div><div><br /></div><div><ul><li><span style="font-size:10pt;background-color:transparent">A name for the gateway instance. We use <b>gateway</b> in this guide.</span></li><li><span style="font-size:10pt;background-color:transparent">A storage cluster user name with appropriate permissions in a keyring.</span></li><li><span style="font-size:10pt;background-color:transparent">Pools to store its data.</span></li><li><span style="font-size:10pt;background-color:transparent">A data directory for the gateway instance.</span></li><li><span style="font-size:10pt;background-color:transparent">An instance entry in the Ceph Configuration file.</span></li><li><span style="font-size:10pt;background-color:transparent">A configuration file for the web server to interact with FastCGI.</span></li></ul><div><b>Installation and Configuration:</b></div></div><div><br /></div></div><div>**<span style="color:rgb(62,67,73);font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:21px;background-color:transparent">Each instance must have a user name and key to communicate with a Ceph Storage Cluster**</span></div><div><span style="color:rgb(62,67,73);font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:21px;background-color:transparent"><br /></span></div><div><span style="color:rgb(62,67,73);font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:21px;background-color:transparent"><b>Creating a user and keyring</b></span></div><div><span style="color:rgb(62,67,73);font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:21px;background-color:transparent"><b>Step 1) </b>On the admin node, create the keyring for the gateway: <b>**Run only for first proxy node**</b></span></div><div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><font color="#3e4349" face="Helvetica, Arial, sans-serif"><span style="font-size:14px;line-height:21px"><code>ceph-authtool --create-keyring /etc/ceph/ceph.client.radosgw.keyring</code></span></font></div><div><font color="#3e4349" face="Helvetica, Arial, sans-serif"><span style="font-size:14px;line-height:21px"><code>chmod +r /etc/ceph/ceph.client.radosgw.keyring</code></span></font></div></div></div><div><br /></div><div>**You only need to run <b>step 1</b> one time (when you create the first proxy node). For all other proxy nodes skip step 1 and continue with the rest of the documentation.**</div><div><br /></div><div><b>Step 2) </b>Generate a Ceph Object Gateway user name and key for each instance. <span style="background-color:transparent">For exemplary purposes, we will use the name <i>gateway</i> after <i>client.radosgw</i>:</span></div><div><div class="sites-codeblock sites-codesnippet-block"><code>ceph-authtool /etc/ceph/ceph.client.radosgw.keyring -n client.radosgw.gateway --gen-key</code></div></div><div><br /></div><div>**For the other proxies after the first one, we incremented the gateway name by one each time. Ex: <i>-n client.radosgw.gateway2</i>**</div><div><br /></div><div><b>Step 3)</b> Add capabilities  to the key.</div><div><div class="sites-codeblock sites-codesnippet-block"><code>ceph-authtool -n client.radosgw.gateway --cap osd 'allow rwx' --cap mon 'allow rwx' /etc/ceph/ceph.client.radosgw.keyring</code></div></div><div><br /></div><div><b>Step 4)</b> Add the key to your Ceph Storage Cluster.</div><div><span style="font-size:10pt;background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>ceph -k /etc/ceph/ceph.client.admin.keyring auth add client.radosgw.gateway -i /etc/ceph/ceph.client.radosgw.keyring</code></div></span></div><div><br /></div><div><b>Step 5)</b></div><div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code>scp /etc/ceph/ceph.client.radosgw.keyring  192.168.2.3:/etc/ceph/</code></div></div></div><div><br /></div><div><b>Creating Pools (If you have not already done so)</b></div><div><b><br /></b></div><div>**When creating pools you need to create the Profile first and then the pool.**</div><div><br /></div><div><b>Step 1)</b> On the admin node, create the erasure code profile and then the erasure code pool by following the following commands:</div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code>ceph osd erasure-code-profile set defaultEcProfile k=4 m=2</code></div><div><code>ceph osd pool create defaultEcPool 6750 6750 erasure defaultEcProfile</code></div></div><div><br /></div><div><b>**If you need to change the K and M variables run the following command**</b></div><div><div class="sites-codeblock sites-codesnippet-block"><code>ceph osd erasure-code-profile set defaultEcProfile k={variable} m={variable} --force</code></div></div><div><b><br /></b></div><div><b>**FOR CREATING ANOTHER POOL**</b></div><div><b>Step 2)</b> If you want to create another pool and you have already done benchmarks, then you need to clean your benchmarks first and then create the new pool. to do so, execute the following steps: **defaultEcPool is the name of the pool you want to clean**</div><div><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px"><div class="sites-codeblock sites-codesnippet-block"><code>rados -p defaultEcPool cleanup</code></div></span></div><div><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px"><br /></span></div><div><b>**For more information about ceph pools, look at our documentation [Using Ceph]**</b></div><div><b><br /></b></div><div><b><br /></b></div><div><b>Add a Gateway Configuration to Ceph</b></div><div><b><br /></b></div><div><b>Step 1)</b> On your admin node, edit your Ceph Gateway configuration file. Append the following configuration to <i>/etc/ceph/ceph.conf</i> in your admin node:</div><div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code>[client.radosgw.gateway]</code></div><div><code>host = NODE-03</code></div><div><code>keyring = /etc/ceph/ceph.client.radosgw.keyring</code></div><div><code>rgw socket path = ""</code></div><div><code>log file = /var/log/radosgw/client.radosgw.gateway.log</code></div><div><code>rgw frontends = fastcgi socket_port=9000 socket_host=0.0.0.0</code></div><div><code>rgw print continue = false</code></div></div></div><div><b><br /></b></div><div>**<span style="background-color:transparent">The [client.radosgw.gateway] portion of the gateway instance identifies this portion of the configuration file as configuring a Ceph Storage Cluster client where the client is a Ceph Object Gateway**</span></div><div><span style="background-color:transparent"><br /></span></div><div>**You can also add debugging to your configuration file, so if you are having issues with the Object Gateway you can troubleshoot your issues**</div><div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code>[global]</code></div><div><code>#append the following in the global section.</code></div><div><code>debug ms = 1</code></div><div><code>debug rgw = 20</code></div></div></div><div><span style="background-color:transparent"><b><br /></b></span></div><div><span style="background-color:transparent"><b>**Run step two once the ceph.conf file is complete**</b></span></div><div><span style="background-color:transparent"><b>Step 2) </b>Copy over the <i>/etc/ceph/ceph.conf </i>file to all the other nodes once it is fully complete (all the proxies are in there). On <b>HEAD NODE:</b></span></div><div><span style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>clush -a scp 192.168.2.2:/etc/ceph/ceph.conf /etc/ceph/</code></div></span></div><div><span style="background-color:transparent"><br /></span></div><div><b style="font-size:10pt;background-color:transparent">Step 3) </b></div><div>Copy over the admin keyring so that the proxy nodes can do what they do best</div><div><div style="background-color:transparent"></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><code>scp /etc/ceph/ceph.client.admin.keyring  192.168.2.3:/etc/ceph</code></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><b>Create a Data Directory</b></div><div style="background-color:transparent"><b><br /></b></div><div style="background-color:transparent"><b>Step 1) </b>Create data directories for each instance of a radosgw daemon. The host variables in the ceph configuration file determine which host runs each instance of a radosgw daemon.</div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>mkdir -p /var/lib/ceph/radosgw/ceph-radosgw.gateway</code></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><b>Step 2) </b>Grant permissions to the default socket location, execute the following on the gateway host:</div><div style="background-color:transparent"></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><code>touch /var/log/radosgw/client.radosgw.gateway.log</code></div><div><code>chown apache:apache /var/run/ceph</code></div><div><code>chown apache:apache /var/log/radosgw/client.radosgw.gateway.log</code></div><div></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent"><b>Step 3)</b> Start the rados gateway but first you need to modify the init script!</span></div><div style="background-color:transparent"><span style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>vim /etc/init.d/ceph-radosgw</code></div></span></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent">Modify the following section as follows:</span></div><div style="background-color:transparent"><i><u>Incorrect:</u></i></div><div><div style="background-color:transparent"></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><code># is the socket defined?  if it's not, this instance shouldn't run as a daemon.</code></div><div><code>            rgw_socket=`$RADOSGW -n $name --show-config-value rgw_socket_path`</code></div><div><code>            if [ -z "$rgw_socket" ]; then</code></div><div><code>                continue</code></div><div><code>    </code><code>    </code><code>    fi</code></div></div><br /><div style="background-color:transparent"><u style="font-style:italic">Correct (temporary fix):</u> We need to echo continue here since the rgw socket path in ceph.conf is left blank.  This if statement in the init script checks to see if the rgw socket path is blank and simply skips over starting the radosgw dameon when the rgw socket path is left blank.</div><div style="background-color:transparent"><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code># is the socket defined?  if it's not, this instance shouldn't run as a daemon.</code></div><div><code>            rgw_socket=`$RADOSGW -n $name --show-config-value rgw_socket_path`</code></div><div><code>            if [ -z "$rgw_socket" ]; then</code></div><div><code>                <b>echo</b> continue</code></div><div><code>            fi</code></div></div></div><div><br /></div><div><u><i>Save the changes you made and start the daemon:</i></u></div><div class="sites-codeblock sites-codesnippet-block"><code>/etc/init.d/ceph-radosgw start        or         service ceph-radosgw start</code></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><b>Create a Gateway Configuration File</b></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><b>Step 1) </b>Create the rgw.conf file and place it in the /etc/httpd/conf.d directory. It is a Apache configuration file which is needed for the radosgw service. This file must be readable by the web server.</div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>vim /etc/httpd/conf.d/rgw.conf</code></div></div><div style="background-color:transparent"><div><br /></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code>&lt;VirtualHost *:80&gt;</code></div><div><code>ServerName localhost</code></div><div><code>#(CHECK ON THIS LINE)ServerAlias *.NODE-03.com</code></div><div><code>DocumentRoot /var/www/html</code></div><div><br /></div><div><code>ErrorLog /var/log/httpd/rgw_error.log</code></div><div><code>CustomLog /var/log/httpd/rgw_access.log combined</code></div><div><br /></div><div><code># LogLevel debug</code></div><div><br /></div><div><code>RewriteEngine On</code></div><div><br /></div><div><code>RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]</code></div><div><br /></div><div><br /></div><div><code>SetEnv proxy-nokeepalive 1</code></div><div><br /></div><div><code>ProxyPass / fcgi://localhost:9000/</code></div><div><br /></div><div><code>&lt;/VirtualHost&gt;</code></div></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent"><b>Step 2) </b>We need to restart the httpd service to accommodate the new configuration</span></div><div style="background-color:transparent"></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><span style="background-color:transparent"><code>service httpd restart</code></span></div><div></div></div><span style="background-color:transparent"><div><span style="background-color:transparent"><br /></span></div><div><span style="background-color:transparent"><br /></span></div><br /></span><div style="background-color:transparent"><span style="background-color:transparent"><b>Using the Gateway</b></span></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent"><b>Step 1</b>) You need to create a radosgw user and grant them access. The command <i>man radosgw-admin </i>will provide information on other command options. Execute the following command on the gateway host (proxy node):</span></div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>radosgw-admin user create --uid="testuser" --display-name="Celadon"</code></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent">**Your output should be similar to the following**</span></div><div style="background-color:transparent"><div></div></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><div><code>{"user_id": "testuser",</code></div><div><code>"display_name": "First User",</code></div><div><code>"email": "",</code></div><div><code>"suspended": 0,</code></div><div><code>"max_buckets": 1000,</code></div><div><code>"auid": 0,</code></div><div><code>"subusers": [],</code></div><div><code>"keys": [</code></div><div><code>{ "user": "testuser",</code></div><div><code>"access_key": "I0PJDPCIYZ665MW88W9R",</code></div><div><code>"secret_key": "dxaXZ8U90SXydYzyS5ivamEP20hkLSUViiaR+ZDA"}],</code></div><div><code>"swift_keys": [],</code></div><div><code>"caps": [],</code></div><div><code>"op_mask": "read, write, delete",</code></div><div><code>"default_placement": "",</code></div><div><code>"placement_tags": [],</code></div><div><code>"bucket_quota": { "enabled": false,</code></div><div><code>"max_size_kb": -1,</code></div><div><code>"max_objects": -1},</code></div><div><code>"user_quota": { "enabled": false,</code></div><div><code>"max_size_kb": -1,</code></div><div><code>"max_objects": -1},</code></div><div><code>"temp_url_keys": []}</code></div></div><div></div></div><span style="background-color:transparent"><br /></span><div style="background-color:transparent"><span style="background-color:transparent">Create a Swift User</span></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent">**A Swift subuser needs to be created if this kind of access is needed. Creating a Swift user is a two step process. The first step is to create the user. The second is to create the secret key.**</span></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent"><b>Step 2)</b> On the gateway host (proxy node) create the swift user by executing the following command:</span></div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>radosgw-admin subuser create --uid=testuser --subuser=testuser:swift --access=full</code></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent">**Your output should be similar to the following**</span></div><div style="background-color:transparent"><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code>{ "user_id": "testuser",</code></div><div><code>"display_name": "First User",</code></div><div><code>"email": "",</code></div><div><code>"suspended": 0,</code></div><div><code>"max_buckets": 1000,</code></div><div><code>"auid": 0,</code></div><div><code>"subusers": [</code></div><div><code>{ "id": "testuser:swift",</code></div><div><code>"permissions": "full-control"}],</code></div><div><code>"keys": [</code></div><div><code>{ "user": "testuser:swift",</code></div><div><code>"access_key": "3Y1LNW4Q6X0Y53A52DET",</code></div><div><code>"secret_key": ""},</code></div><div><code>{ "user": "testuser",</code></div><div><code>"access_key": "I0PJDPCIYZ665MW88W9R",</code></div><div><code>"secret_key": "dxaXZ8U90SXydYzyS5ivamEP20hkLSUViiaR+ZDA"}],</code></div><div><code>"swift_keys": [],</code></div><div><code>"caps": [],</code></div><div><code>"op_mask": "read, write, delete",</code></div><div><code>"default_placement": "",</code></div><div><code>"placement_tags": [],</code></div><div><code>"bucket_quota": { "enabled": false,</code></div><div><code>"max_size_kb": -1,</code></div><div><code>"max_objects": -1},</code></div><div><code>"user_quota": { "enabled": false,</code></div><div><code>"max_size_kb": -1,</code></div><div><code>"max_objects": -1},</code></div><div><code>"temp_url_keys": []}</code></div></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><b>Step 3)</b> Create the Secret key:</div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>radosgw-admin key create --subuser=testuser:swift --key-type=swift --gen-secret</code></div></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent">**Your output should be similar to the following**</span></div><div style="background-color:transparent"><div></div></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><div><code>{ "user_id": "testuser",</code></div><div><code>"display_name": "First User",</code></div><div><code>"email": "",</code></div><div><code>"suspended": 0,</code></div><div><code>"max_buckets": 1000,</code></div><div><code>"auid": 0,</code></div><div><code>"subusers": [</code></div><div><code>{ "id": "testuser:swift",</code></div><div><code>"permissions": "full-control"}],</code></div><div><code>"keys": [</code></div><div><code>{ "user": "testuser:swift",</code></div><div><code>"access_key": "3Y1LNW4Q6X0Y53A52DET",</code></div><div><code>"secret_key": ""},</code></div><div><code>{ "user": "testuser",</code></div><div><code>"access_key": "I0PJDPCIYZ665MW88W9R",</code></div><div><code>"secret_key": "dxaXZ8U90SXydYzyS5ivamEP20hkLSUViiaR+ZDA"}],</code></div><div><code>"swift_keys": [</code></div><div><code>{ "user": "testuser:swift",</code></div><div><code>"secret_key": "244+fz2gSqoHwR3lYtSbIyomyPHf3i7rgSJrF\/IA"}],</code></div><div><code>"caps": [],</code></div><div><code>"op_mask": "read, write, delete",</code></div><div><code>"default_placement": "",</code></div><div><code>"placement_tags": [],</code></div><div><code>"bucket_quota": { "enabled": false,</code></div><div><code>"max_size_kb": -1,</code></div><div><code>"max_objects": -1},</code></div><div><code>"user_quota": { "enabled": false,</code></div><div><code>"max_size_kb": -1,</code></div><div><code>"max_objects": -1},</code></div><div><code>"temp_url_keys": []}</code></div></div><div></div></div><span style="background-color:transparent"><br /></span><div style="background-color:transparent"><span style="background-color:transparent"><b>Test S3 Access</b></span></div><br /><div style="background-color:transparent">**<span style="background-color:transparent"> You need to write and run a Python test script for verifying S3 access. The S3 access test script will connect to the radosgw, create a new bucket and list all buckets. **</span></div><div style="background-color:transparent"><span style="background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="background-color:transparent"><b>Step 1)</b> Install python-boto</span></div><div style="background-color:transparent">- Download the rpm from here:  <a dir="ltr" href="https://talkgadget.google.com/u/0/talkgadget/_/frame?v=1436380302&amp;hl=en#zSoyz" rel="nofollow noreferrer" style="font-family:arial,sans-serif;font-size:13px;line-height:16px;background-color:transparent" target="_blank">ftp://ftp.icm.edu.pl/vol/rzm5/linux-slc/rhcommon/slc6X/x86_64/RPMS/python-boto-2.25.0-2.el6.noarch.rpm</a><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px;background-color:transparent"> </span></div><div style="background-color:transparent"><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px;background-color:transparent">- scp this repo over to the proxy node and run the following on it:</span></div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><div style="font-size:13.3333330154419px;background-color:transparent"><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px"><code>scp 192.168.2.1:/home/share/python-boto-2.25.0-2.el6.noarch.rpm /tmp/</code></span></div><div style="font-size:13.3333330154419px;background-color:transparent"><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px"><code>rpm -iv </code></span><span style="color:rgb(38,38,38);font-family:arial,sans-serif;font-size:13px;line-height:16px;background-color:transparent"><code>python-boto-2.25.0-2.el6.noarch.rpm</code></span></div></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><b>Step 2) </b>Create the Python script:</div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>vim s3test.py</code></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent">**The access_key and secret_key should be your S3 user access_key and secret_key**</div><div style="background-color:transparent"><span style="font-size:13.3333330154419px">**Host name is whatever your gateway node that you are configuring is**</span></div><div style="background-color:transparent"><span style="font-size:13.3333330154419px"><br /></span></div><div style="background-color:transparent"><span style="font-size:13.3333330154419px"><b>NOTE (**IMPORTANT**): </b>You may need to remove escape characters like "\" from your key before pasting them into the s3test.py script.</span></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><div></div></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><div><code>import boto</code></div><div><code>import boto.s3.connection</code></div><div><code>access_key = 'I0PJDPCIYZ665MW88W9R'</code></div><div><code>secret_key = 'dxaXZ8U90SXydYzyS5ivamEP20hkLSUViiaR+ZDA'</code></div><div><code>conn = boto.connect_s3(</code></div><div><code>aws_access_key_id = access_key,</code></div><div><code>aws_secret_access_key = secret_key,</code></div><div><code>host = 'NODE-03',</code></div><div><code>is_secure=False,</code></div><div><code>calling_format = boto.s3.connection.OrdinaryCallingFormat(),</code></div><div><code>)</code></div><div><code>bucket = conn.create_bucket('my-new-bucket')</code></div><div><code>for bucket in conn.get_all_buckets():</code></div><div><code>        print "{name}\t{created}".format(</code></div><div><code>                name = bucket.name,</code></div><div><code>                created = bucket.creation_date,</code></div><div><code>)</code></div></div><div></div></div><br /><div style="background-color:transparent"><b>Step 3)</b> Run the python script:</div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>python s3test.py</code></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent">**Your output should be similar to the following**</div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>my-new-bucket 2015-02-16T17:09:10.000Z</code></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><b>Test Swift User</b></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent">**Swift access can be verified via the swift command line client**</div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><b>Step 1)</b> Install the following tools</div><div style="background-color:transparent"><div></div></div><div class="sites-codeblock sites-codesnippet-block" style="background-color:transparent"><div><div><code>yum install python-setuptools</code></div><div><code>easy_install pip</code></div><div><code>pip install --upgrade setuptools</code></div><div><code>pip install --upgrade python-swiftclient</code></div></div><div></div></div><br /><div style="background-color:transparent"><b>Step 2)</b> Test Swift access:</div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><b style="font-size:13.3333330154419px">NOTE (**IMPORTANT**): </b><span style="font-size:13.3333330154419px">You may need to remove escape characters like "\" from your key before pasting them into the s3test.py script.</span></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>swift -A http://{IP ADDRESS}/auth/1.0 -U testuser:swift -K ‘{swift_secret_key}’ list</code></div></div><div style="background-color:transparent"><br /></div><div style="background-color:transparent">**<span style="font-size:10pt;background-color:transparent">Replace {IP ADDRESS} with the public IP address of the gateway server and {swift_secret_key} with its value from the output of radosgw-admin key create command executed for the swift user.**</span></div><div style="background-color:transparent"><span style="font-size:10pt;background-color:transparent"><br /></span></div><div style="background-color:transparent"><span style="font-size:10pt;background-color:transparent">**The output should be:**</span></div><div style="background-color:transparent"><div class="sites-codeblock sites-codesnippet-block"><code>my-new-bucket</code></div></div><div><br /></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/ceph/5-1-configuring-the-rados-gateway">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/7dadac/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXuzMtXyEUZP9EWx9i_l5CGpYY7mJEAJ2f1SPfeiQ6c4CPqX0rho1kWDEif03tBG-YjEqsucdcyJ9braoIXpqhhvrW4CnXliU6FwvwFJdSI7Uka4ADhvs1fNslzxqFdsbOK9fLXytKeJqQwgIjQmJgYRFmbaYOOn3ogbXe9yLBH8QWWo_Is/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('../_/tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-celadon/ceph/5-1-configuring-the-rados-gateway by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 03 Aug 2015 21:58:11 GMT -->
</html>
