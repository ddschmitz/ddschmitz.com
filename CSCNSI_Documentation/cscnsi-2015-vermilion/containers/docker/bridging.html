<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">

<!-- Mirrored from sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker/bridging by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 05 Aug 2015 14:30:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",g="tick",h="wtsrt_",l="tbsd_",m="tbnd_",n="start",p="_wtsrt",q="_tbnd",r="CSI/index.html";(function(){function k(a){this.t={};this.tick=function(a,d,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),d];if(void 0==c)try{b.console.timeStamp(r+a)}catch(f){}};this[g](n,null,a)}var a;b.performance&&(a=b.performance.timing);var t=a?new k(a.responseStart):new k;b.jstiming={Timer:k,load:t};if(a){var d=a.navigationStart,f=a.responseStart;0<d&&f>=d&&(b.jstiming.srt=f-d)}if(a){var c=b.jstiming.load;0<d&&f>=d&&(c[g](p,void 0,d),c[g](h,p,f),c[g](l,h))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),
c&&0<d&&(c[g](q,void 0,b[e].csi().startE),c[g](m,q,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[g](q,void 0,b.external.startE),c[g](m,q,d))),a&&(b.jstiming.pt=a)}catch(u){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="http://www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/28d687/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers","deleted":false,"title":"Containers","dir":"ltr"},{"path":"/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker","deleted":false,"title":"Docker","dir":"ltr"},{"path":"/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker/bridging","deleted":false,"title":"5. Bridging","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/28d687/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":false,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"CSCNSI 2015: Team Vermilion","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"accessibleSortingButtons":false,"driveImageLinkFromOnepick":true,"analyticsFullSamplingRate":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker/bridging\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/28d687/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/28d687/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/28d687/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/28d687/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/28d687/system/app/css/trogedit.css","../../_/rsrc/1438069146000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/28d687/system/app/css/codeeditor.css","/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/_/rsrc/1438069146000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"probe.newmexicoconsortium.org","baseUri":"/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion","name":"cscnsi-2015-vermilion","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/containers/docker","parentWuid":"wuid:gx:57594d49e3e9ad86","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"5. Bridging","locale":"en","wuid":"wuid:gx:29b1da836440592c","revision":23,"path":"/containers/docker/bridging","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"bridging","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="5. Bridging - CSCNSI 2015: Team Vermilion" />
<meta itemprop="name" content="5. Bridging - CSCNSI 2015: Team Vermilion" />
<meta property="og:title" content="5. Bridging - CSCNSI 2015: Team Vermilion" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/28d687/system/app/themes/default/standard-css-default-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1438069146000/system/app/css/overlayf14d.css?cb=default150goog-ws-leftnone30themedefaultstandard" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1438069146000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/probe.newmexicoconsortium.org/cscnsi%2d2015%2dvermilion/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>5. Bridging - CSCNSI 2015: Team Vermilion</title>
<meta itemprop="image" content="https://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/_/rsrc/1436393285640/containers/docker/bridging/cartoon-bridge-clip-art-89761.GIF" />
<meta property="og:image" content="https://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/_/rsrc/1436393285640/containers/docker/bridging/cartoon-bridge-clip-art-89761.GIF" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="https://www.google.com/a/cpanel/probe.newmexicoconsortium.org/images/logo.gif?service=google_default" alt="CSCNSI 2015: Team Vermilion" class="sites-logo  sites-domain-logo" /></a><h2><a href="../../index.html" dir="ltr" id="sites-chrome-userheader-title">CSCNSI 2015: Team Vermilion</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:7989501cea6cf9fe"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../home.html" jotId="wuid:gx:7989501cea6cf9fe" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:6982779b4d0b48ea"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-1.html" jotId="wuid:gx:6982779b4d0b48ea" class="sites-navigation-link">Lab 1</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-1/Procedures.html" jotId="wuid:gx:15126062d6d283e5" class="sites-navigation-link">Procedures</a></div></li></ul></li><li class="parent closed " wuid="gx:2c821c25acef98ed"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-2-1.html" jotId="wuid:gx:2c821c25acef98ed" class="sites-navigation-link">Lab 2</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-2-1/lab-2.html" jotId="wuid:gx:1118a774c6666b21" class="sites-navigation-link">Procedures</a></div></li></ul></li><li class="parent closed " wuid="gx:5e2e5109899b07b2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-3.html" jotId="wuid:gx:5e2e5109899b07b2" class="sites-navigation-link">Lab 3</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-3/dhcp.html" jotId="wuid:gx:46e0ee8b9c1f33ca" class="sites-navigation-link">DHCP</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-3/dns.html" jotId="wuid:gx:2238611d7d9fe993" class="sites-navigation-link">DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-3/http.html" jotId="wuid:gx:33f5d0af877312dd" class="sites-navigation-link">HTTP</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-3/nfs.html" jotId="wuid:gx:298f7a181ded0bcb" class="sites-navigation-link">NFS</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-3/ntp.html" jotId="wuid:gx:d23e5a915076e8c" class="sites-navigation-link">NTP</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-3/yum-repositories.html" jotId="wuid:gx:63d03f9dca80bb88" class="sites-navigation-link">Yum Repos</a></div></li></ul></li><li class="parent closed " wuid="gx:20fa94bd527f3c06"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-4.html" jotId="wuid:gx:20fa94bd527f3c06" class="sites-navigation-link">Lab 4</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-4/dhcp.html" jotId="wuid:gx:190c7103e0096ff5" class="sites-navigation-link">Dhcp</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-4/kickstart.html" jotId="wuid:gx:7378307c90437800" class="sites-navigation-link">Kickstart</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-4/procedures.html" jotId="wuid:gx:1164353fe04cd28c" class="sites-navigation-link">Procedures</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-4/syslinux.html" jotId="wuid:gx:1351c01ffd3828e6" class="sites-navigation-link">SysLinux</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-4/tftp.html" jotId="wuid:gx:215a7b4393104cc6" class="sites-navigation-link">TFTP</a></div></li></ul></li><li class="parent closed " wuid="gx:64eca2b82529ba0d"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-5.html" jotId="wuid:gx:64eca2b82529ba0d" class="sites-navigation-link">Lab 5</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-5/procedures.html" jotId="wuid:gx:c84859357ac7dda" class="sites-navigation-link">Procedures</a></div></li></ul></li><li class="parent closed " wuid="gx:281f2270e8b3e6a9"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-6.html" jotId="wuid:gx:281f2270e8b3e6a9" class="sites-navigation-link">Lab 6</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-6/procedures.html" jotId="wuid:gx:59c13b029965000c" class="sites-navigation-link">Procedures</a></div></li></ul></li><li class="parent closed " wuid="gx:4573a9212a34980d"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-7.html" jotId="wuid:gx:4573a9212a34980d" class="sites-navigation-link">Lab 7</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-7/chroot.html" jotId="wuid:gx:27f93cd5db6989d2" class="sites-navigation-link">chroot</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-7/rsyslog.html" jotId="wuid:gx:72b750bdac262a0d" class="sites-navigation-link">rsyslog</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-7/warewulf-installation.html" jotId="wuid:gx:60010812532a6445" class="sites-navigation-link">Warewulf Installation</a></div></li></ul></li><li class="parent closed " wuid="gx:1cde5385fd43c0ee"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../../home/lab-8.html" jotId="wuid:gx:1cde5385fd43c0ee" class="sites-navigation-link">Lab 8</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-8/chroot.html" jotId="wuid:gx:3315a2fdd8454b69" class="sites-navigation-link">chroot</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-8/head-node.html" jotId="wuid:gx:1eaace5ca1675c37" class="sites-navigation-link">head node</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-8/openldap-ldap-client-ldap-server-nss-pam.html" jotId="wuid:gx:48e7ad0f19547aa0" class="sites-navigation-link">openldap ldap-client ldap-server nss-pam-ldap</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../../home/lab-8/procedures.html" jotId="wuid:gx:61d07e7c77e80a5" class="sites-navigation-link">Procedures</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../home/lab-9.html" jotId="wuid:gx:1f712cad56c5b0d2" class="sites-navigation-link">Lab 9</a></div></li></ul></li><li class="topLevel parent " wuid="gx:70c9edf5b19e66a4"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../containers.html" jotId="wuid:gx:70c9edf5b19e66a4" class="sites-navigation-link topLevel">Containers</a></div><ul role="navigation" class="has-expander"><li class="parent " wuid="gx:57594d49e3e9ad86"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../docker.html" jotId="wuid:gx:57594d49e3e9ad86" class="sites-navigation-link">Docker</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="procedures.html" jotId="wuid:gx:3850ef43afe9793b" class="sites-navigation-link">1. Installation</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="dockerhub.html" jotId="wuid:gx:6bfefaae74dcad5f" class="sites-navigation-link">2. Docker Hub</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="benchmarks.html" jotId="wuid:gx:207fc494fdff937d" class="sites-navigation-link">3. Benchmarks</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="configuring-ssh-between-containers.html" jotId="wuid:gx:237ff77aa1ba0c69" class="sites-navigation-link">4. Configuring SSH Between Containers</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:29b1da836440592c" dir="ltr" style="padding-left: 57px;">5. Bridging</div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="mpi.html" jotId="wuid:gx:441d7fd1e8c6e96c" class="sites-navigation-link">6. Open MPI</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="mounting.html" jotId="wuid:gx:3ca73f6a742b96f8" class="sites-navigation-link">7. Mounting</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="security.html" jotId="wuid:gx:12cabac1c53b275d" class="sites-navigation-link">8. Security</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../linux-containers--lxc.html" jotId="wuid:gx:7ff3bbb1dbf752a2" class="sites-navigation-link">Linux Containers -LXC</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:213a2d342f3cb6a2" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../containers.html" dir="ltr">Containers</A>‎ &gt; ‎<A href="../docker.html" dir="ltr">Docker</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">5. Bridging</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://5a37abc2-a-e7d7eeea-s-sites.googlegroups.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker/bridging/cartoon-bridge-clip-art-89761.GIF?attachauth=ANoY7cqvtok732ykfSBtrtNtU7-tuGiiuYi5FyoGorLsTCpdvbRgm8tlK3S2gKk_wCGTpNpiFgCCXBZkFyzId4Rv-QGaaXAXwjEAcBYxD0h8ZIpozGDPxpPhUGYUaOFV1Y5ckhO-q-dNvrpkoDVAzDpjWVIby2DtDQqWdyl8_i-cQWUzZIDvi8XCkVFUmgzUuewd5p4x6C1ryYWwG1KoA0GHhya1Ac_YNYuNTFF-W8aH98S_JT6FbQm3ynj7VGXxzNC9FsRfN6e2uwsF00fbAJYQwK5kUNvRWWzlsvfya-1dtR5TJa41mrNPLosUzl0o2ytqEEM0zxKV&amp;attredirects=0" imageanchor="1"><img border="0" src="../../_/rsrc/1436393285640/containers/docker/bridging/cartoon-bridge-clip-art-89761.gif" style="width:50%" /></a></div>
<h2 style="text-align:center"><a name="TOC-Procedures"></a><span style="background-color:transparent"><font size="6">Procedures</font></span></h2><div><br /></div>
</div>
<h3><a name="TOC-0.1.-Before-you-begin-you-will-need-to-install-the-bridging-utilities."></a><font size="4">0.1.  Before you begin you will need to install the bridging utilities.</font></h3><div><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ yum install bridge-utils</font></code></div></div><div><br /></div>
<h3><a name="TOC-1.-Stop-Docker-and-undo-the-changes-it-made."></a><font size="4">1. Stop Docker and undo the changes it made.
</font></h3><div><br /></div><div><font size="4">We have docker set up to be started automatically when we restart one of our nodes.  Because of this we found out that </font></div><div><font size="4">Docker does not properly tear down the bridge it makes or delete the iptables rules it creates.  This may not be a problem in other </font></div><div><font size="4">configurations </font><span style="font-size:large;background-color:transparent">but in ours it caused a few problems so we just had to shut it down which wasn't difficult.  If Docker isn't started or </span></div><div><span style="font-size:large;background-color:transparent">hasn't made any </span><span style="font-size:large;background-color:transparent">changes to your system, you shouldn't have to worry about this step.</span></div><div><br /></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code><font size="4">$ service docker stop</font></code></div><div><code><font size="4">$ service iptables restart</font></code></div></div><div><br /></div><h3><a name="TOC-2.-Configure-the-bridge.-NOTE:-This-may-bring-down-the-interface-you-are-connected-to.-So-if-you-are-using-SSH-be-careful."></a><font size="4">2. Configure the bridge. <font color="#ff0000">NOTE:</font> This may bring down the interface you are connected to.  So if you are using SSH be careful.</font></h3><div><br /></div><div><font size="4">A. Create the bridge.</font></div><div><br /></div><div><font size="4">Since docker was already started on our machine, it had already created a bridge called docker0.  This may not be the case so you might need to create a bridge.</font></div><div><br /></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code><font size="4">$ brctl addbr docker0</font></code></div><div><code><font size="4">$ ifconfig eth0 down</font></code></div><div><code><font size="4">$ ifconfig eth0 0.0.0.0</font></code></div></div><div><br /></div><div><font size="4">Now you can go on to part B. </font></div><div><font size="4">          ||</font></div><div><font size="4">          \/</font></div><div><br /></div><div><font size="4">B. Configure existing bridge.</font></div><div><br /></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><code><font size="4">$ ifconfig docker0 0.0.0.0</font></code></div><div><code><font size="4">$ brctl addif docker0 eth0</font></code></div><div><span style="background-color:transparent"><code><font size="4">$ dhclient docker0</font></code></span></div></div><div><span style="font-size:10pt;background-color:transparent"><br /></span></div><div><font size="4">Running dhclient should give docker0 the correct IP address but if not you may need to do it manually. </font></div><div><font size="4"><br /></font></div><div><font size="4"><font color="#ff0000">NOTE:</font> if you have troubles with running <b>dhclient docker0</b> then run this first:</font></div><div><font size="4"><br /></font></div><div><font size="4"><div class="sites-codeblock sites-codesnippet-block"><code>$ killall dhclient</code></div></font></div><div><br /></div><div><font size="4">We also had an issue where eth0 maintained its original IP address which the docker0 interface is suppose to now have.  </font></div><div><font size="4">We think the reason this happens is because in the ifcfg-eth0 file, the IP address is statically set to the IP we want to use </font></div><div><font size="4">on the bridge.  It was a simple fix to get rid of this.</font></div><div><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ ifconfig eth0 0.0.0.0</font></code></div></div><div><br /></div><h3><a name="TOC-3.-Copy-resolve.conf-from-head-node."></a><font size="4">3. Copy resolve.conf from head node.</font></h3><div><br /></div><div><font size="4">We had an issue where our resolv.conf file got overwritten so we just copied it from the head node.</font></div><div><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ scp dschmitz@192.168.1.1:/etc/resolv.conf /etc/</font></code></div></div><div><br /></div><div><font size="4">We had to use our usernames since we don't allow root login on our head node.  You could probably just use root. </font></div><div><br /></div><h3><a name="TOC-4.-Set-up-the-docker-daemon."></a><font size="4">4. Set up the docker daemon.</font></h3><div><br /></div><div><font size="4">This starts the docker daemon with this IP range.  This means when we create a docker container it only uses this range </font></div><div><font size="4">of IP addresses. </font><span style="font-size:large;background-color:transparent">In the case of a /30 it would only be two IP addresses.</span></div><div><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ docker -d -b docker0 --fixed-cidr=192.168.1.200/30</font></code></div></div><div><br /></div><div><font size="4">-d....................................................... Enable daemon mode.</font></div><div><font size="4">-b docker0......................................... Attaches containers to a network bridge, which in our case is docker0.</font></div><div><font size="4">--fixed-cider=192.168.1.200/30......... Specifies what IP range containers can use when starting up.  <font color="#ff0000">NOTE:</font> this isn't a subnet mask, it is </font></div><div><font size="4">                                                            just specifying what range of IP addresses the containers can use. </font></div><div><font size="4"><font color="#ff0000">NOTE:</font> You can use -D which will put you in debug mode.  This may help you if you are troubleshooting a problem.</font></div><div><br /></div><div><font size="4">Use ctrl-z to stop the deamon.</font></div><div><br /></div>
<div><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ bg</font></code></div>
</div><div><br /></div><div><font size="4">Use this to place it in the background.</font></div><div><br /></div><div><font size="4">Now if we create a container it should make it properly and give it an IP address in the range we specified.</font></div>
<div><br />
</div>
<div style="text-align:left"><font size="4"><font color="#ff0000">NOTE:</font> If you use a /30 address you will only be able to use two IP addresses.  In our case with 192.168.1.200/30 </font></div><div style="text-align:left"><font size="4">we were only able to create two machines and their addresses were 192.168.1.201 &amp; 192.168.1.202.</font>
</div><div style="text-align:left"><font size="4"><br /></font></div><div style="text-align:left"><font size="4"><font color="#ff0000">NOTE:</font> These are the IP ranges we assigned to our containers.</font></div><div style="text-align:left"><font size="4"><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="width:81px;height:20px"> Node 01<br /></td><td style="width:152px;height:20px"> 192.168.1.200/30</td></tr><tr><td style="width:81px;height:20px"> Node 02</td><td style="width:152px;height:20px"> 192.168.1.204/30</td></tr><tr><td style="width:81px;height:20px"> Node 03<br /></td><td style="width:152px;height:20px"> 192.168.1.208/30</td></tr><tr><td style="width:81px;height:20px"> Node 04</td><td style="width:152px;height:20px"> 192.168.1.212/30</td></tr><tr><td style="width:81px;height:20px"> Node 05</td><td style="width:152px;height:20px"> 192.168.1.216/30</td></tr><tr><td style="width:81px;height:20px"> Node 06</td><td style="width:152px;height:20px"> 192.168.1.220/30</td></tr><tr><td style="width:81px;height:20px"> Node 07</td><td style="width:152px;height:20px"> 192.168.1.224/30</td></tr><tr><td style="width:81px;height:20px"> Node 08</td><td style="width:152px;height:20px"> 192.168.1.228/30</td></tr><tr><td style="width:81px;height:20px"> Node 09</td><td style="width:152px;height:20px"> 192.168.1.232/30</td></tr><tr><td style="width:81px;height:20px"> Node 10</td><td style="width:152px;height:20px"> 192.168.1.236/30</td></tr></tbody></table><br /></font></div><div style="text-align:left"><br /></div>
<div style="text-align:center"><font size="6">Using a Script
</font></div><div style="text-align:center"><font size="4">Warning: This script is just a bunch of commands that we would have run on all the nodes </font></div><div style="text-align:center"><font size="4">so to make it easier we put them in a script.  It may or may not work for everyone's </font></div><div style="text-align:center"><font size="4">configuration since there is a good chance yours may be different. For example </font></div><div style="text-align:center"><font size="4">we had to stop docker and iptables on our nodes to begin the process of setting up the bridge. </font></div><div><br /></div><h3><a name="TOC-Our-Script."></a><font size="3">Our Script.</font></h3><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>#!/bin/bash </code><br /><code>service docker stop </code><br /><code>service iptables restart </code><br /><code>ifconfig eth0 0.0.0.0 </code><br /><code>ifconfig docker0 0.0.0.0 </code><br /><code>brctl addif docker0 eth0 </code><br /><code>dhclient docker0 </code><br /><code>ifconfig eth0 0.0.0.0 </code><br /><code>echo "search vermilion.com."&gt; /etc/resolv.conf </code><br /><code>echo "nameserver 192.168.1.1"&gt;&gt; /etc/resolv.conf</code></font></div><div><br />
<h3><a name="TOC-1.-Get-the-script-on-all-of-your-nodes.-"></a><font size="4">1. Get the script on all of your nodes. </font> </h3><div><br /></div><div><font size="4">Our nodes are set up using warewulf.  So all we needed to do was put it in our chroot and remake the chroot.  </font></div><div><font size="4">Then we just had to restart the nodes and the script was in the / directory. </font></div><div><br /></div><div><font size="4">There are probably many different ways to get the script on the nodes, our solution may not work for everyone.</font> </div><div><br /></div><h3><a name="TOC-2.-Running-the-script.-"></a><font size="4">2. Running the script. </font></h3><div><br /></div><div><font size="4">We then used ClusterShell to execute the script on each of the nodes.  We have all our nodes in a group called "all".</font></div><div><br /></div><div><font size="4"><div class="sites-codeblock sites-codesnippet-block"><code>$ clush -g all /script</code></div></font></div><div><br /></div>
<h3><a name="TOC-3.-Set-up-the-docker-daemon.-"></a><font size="4">3. Set up the docker daemon. </font></h3><div><font size="4">We had to do this part by sshing into each individual node.  We don't have a way to automate it at this time.</font></div><div><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ docker -d -b docker0 --fixed-cidr=192.168.1.200/30</font></code></div></div>
<div><br />
</div>
<h3><a name="TOC-4.-Create-a-container-on-each-node."></a><font size="4">4. Create a container on each node.
</font></h3><div><br /><div class="sites-codeblock sites-codesnippet-block"><code><font size="4">$ clush -g all docker run -it -d dhuff/testimage:0.5 /bin/bash</font></code></div><br /><h3><a name="TOC-Our-Script-v1.2"></a><font size="4">Our Script v1.2</font></h3></div><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>#!/bin/bash </code><br /><code>service docker stop </code><br /><code>service iptables restart </code><br /><code>ifconfig eth0 0.0.0.0 </code><br /><code>ifconfig docker0 0.0.0.0 </code><br /><code>brctl addif docker0 eth0 </code><br /><code>dhclient docker0 </code><br /><code>ifconfig eth0 0.0.0.0 </code><br /><code>echo "search vermilion.com."&gt; /etc/resolv.conf </code><br /><code>echo "nameserver 192.168.1.1"&gt;&gt; /etc/resolv.conf</code><br /><br /><code>TMPI=$(ifconfig docker0 | sed -n 2p | cut -d : -f 2 |cut -d . -f 4 |cut -d ' ' -f 1) </code><br /><code>TMPI=$(expr $TMPI \* 4) </code><br /><code>TMPI=$(expr $TMPI + 200) </code><br /><code>docker -d -b docker0 --fixed-cidr=192.168.1.$TMPI/30 &amp; </code><br /><code>rm -f /script</code></font></div><div><br /></div><div><font size="4">With this version of the script, it automatically assigns the correct --fixed-cider= range for each of our 10 nodes. However this script does not function properly when using clush at the moment.  So it is possible to use this script instead but you will need to ssh into each node individually and run this script. </font></div><div> <br /><div style="text-align:center"><span style="font-size:xx-large;background-color:transparent">References</span></div></div>
<div><br />
</div><div style="text-align:center"><span style="background-color:transparent"><font size="4">http://www.tldp.org/HOWTO/BRIDGE-STP-HOWTO/index.html</font></span></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker/bridging">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/28d687/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXssovwhehRXlfNHRCIwpCVcdSVW2JwLTe9_JSamBrNsUDF8i4NYluF0lyhRBIMg8-tNjWcc-GbPL-RPvV--s5HHjEhxTtKqVgJABp9i3CijQk6PlOoiiZnRqcCeZkjtt0Oz3c57CbXZU31R0CaTacnBQX1v3lu6aMgkuApiYfrRCT7Gvtk/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('../../_/tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/a/probe.newmexicoconsortium.org/cscnsi-2015-vermilion/containers/docker/bridging by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 05 Aug 2015 14:30:03 GMT -->
</html>
